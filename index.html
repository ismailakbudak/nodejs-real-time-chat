<!doctype html>
<html>
  <head>
    <title>Real time chat</title>
  </head>
  <body>
    <ul id="messages"></ul>
    <form action="">
      <input id="message" autocomplete="off" />
      <button id="send">Send</button>
    </form>

    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      $(function(){
          
          var sound = function(){
            var snd = new Audio("http://www.soundjay.com/button/sounds/button-37.mp3"); // buffers automatically when created
            snd.play();
          }; 
          
          var socket = io();
          $('#send').click(function(){
            socket.emit('chat message', $('#message').val());
            $('#message').val('');
            return false;
          });
          socket.on('chat message', function(msg){
              $('#messages').append($('<li>').text(msg));
              sound();

          });
          
          socket.on('send data', function(msg){
              $.each(msg, function( index, value ) {
                $('#messages').append($('<li>').text(value));
              });
              
          });

          var send = function(){
            socket.emit('send data'); 
            return false;
          };

          send();

      });
      </script>
  </body>
</html>